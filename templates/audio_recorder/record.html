{% extends "base.html" %}
{% load static %}

{% block title %}Audio Recorder{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/audio_recorder.css' %}">
{% endblock %}

{% block content %}
<div class="recorder-container">
    <h1>Audio Recorder</h1>

    <!-- Recording buttons above waveform -->
    <div class="utility-bar" id="recordingControls">
        <button id="startBtn">Start Recording</button>
        <button id="stopBtn" disabled>Stop Recording</button>
        <button id="startOverBtn" disabled>Start Over</button>
    </div>

    <!-- Waveform -->
    <div class="waveform-wrapper">
        <canvas id="waveform"></canvas>
        <div id="startHandle" class="handle"></div>
        <div id="endHandle" class="handle"></div>
    </div>

    <!-- Clip buttons -->
    <div class="utility-bar">
        <button id="applyClipBtn" disabled>Apply Clip</button>
        <button id="undoBtn" disabled>Undo Clip</button>
    </div>

    <!-- Audio preview & download -->
    <audio id="preview" controls></audio>
    <div class="utility-bar">
        <button id="downloadBtn" disabled>Download MP3</button>
    </div>

    <p><a href="{% url 'landing' %}" class="back-link">&larr; Back to Main Page</a></p>
</div>

<script type="module" src="{% static 'js/audio_recorder.js' %}"></script>
{% endblock %}
